var h=Object.defineProperty;var b=(t,e,s)=>e in t?h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var m=(t,e,s)=>(b(t,typeof e!="symbol"?e+"":e,s),s);import{a as L,S as E,i as f}from"./assets/vendor-b42c18af.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=s(r);fetch(r.href,a)}})();const c=class c{constructor(){this.BASE_URL="https://pixabay.com/api/",this.END_POINT="",this.query=null,this.page=1,this.totalHits=0}setDefaults(){this.page=1,this.totalHits=0}async getImages(){const e={q:this.query,image_type:"photo",key:"42190247-000e45a6447d3626b5dd5a4c9",orientation:"horizontal",safesearch:!0,page:this.page,per_page:c.PAGE_SIZE},s=`${this.BASE_URL}${this.END_POINT}?${e}`,i=await L.get(s,{params:e});return this.totalHits=i.data.totalHits,i.data}isLastPage(){return Math.ceil(this.totalHits/c.PAGE_SIZE)<=this.page}};m(c,"PAGE_SIZE",15);let u=c;function S(t){return q(t.hits)}function q(t){return t.map(w).join("")}function w(t){const{largeImageURL:e,likes:s,views:i,webformatURL:r,tags:a,comments:l,downloads:y}=t;return`<li class="gallery-item">
    <a class="link-item" href="${e}"><img class="gallery-img" src="${r}" alt="${a}" title=""/></a>
      <div class="info">
        <p class="info-item"><b>Likes</b><br>${s}</p>
        <p class="info-item"><b>Views</b><br>${i}</p>
        <p class="info-item"><b>Comments</b><br>${l}</p>
        <p class="info-item"><b>Downloads</b><br>${y}</p>
      </div>
    </li>`}const n=new u,v=new E(".js-gallery a.link-item",{navText:["←","→"],closeText:"×",enableKeyboard:!0,captionsData:"alt",captionPosition:"bottom",captionDelay:250}),o={formEl:document.querySelector('.js-search-form[data-id="1"]'),listEl:document.querySelector(".js-gallery"),inputEl:document.querySelector(".js-input"),loaderEl:document.querySelector(".js-loader"),btnLoader:document.querySelector("#js-btn-load"),targetElem:document.querySelector("#observer")};o.formEl.addEventListener("submit",P);o.btnLoader.addEventListener("click",$);async function P(t){t.preventDefault(),x(),n.setDefaults();let e=t.target.elements.query.value;if(e=e?e.trim():"",e===""){g(),d("Your query is empty! Please try enter your query again!");return}n.query=e,D(),p()}async function $(){n.page+=1,p()}async function p(){o.loaderEl.style.display="block";try{const t=await n.getImages();if(t.hits.length===0){d("no data on your search query");return}const e=await S(t);o.listEl.insertAdjacentHTML("beforeend",e),v.refresh(),g(),N();const s=document.querySelector(".gallery-item").getBoundingClientRect().height;window.scrollBy({top:s*2,behavior:"smooth"})}catch{d("An error occurred. Please try again later.")}finally{o.loaderEl.style.display="none"}}function x(){o.listEl.innerHTML=""}function D(){o.inputEl.value=null}function d(t){f.error({message:t})}function I(t){f.info({message:t})}function N(){n.isLastPage()&&I("We're sorry, but you've reached the end of search results.")}function g(){n.isLastPage()?o.btnLoader.classList.add("hidden"):o.btnLoader.classList.remove("hidden")}
//# sourceMappingURL=commonHelpers.js.map
